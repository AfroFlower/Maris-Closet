// setting up a outfit selection in an object
const fullOutfit = {
        shirtSelection: {
            shirt_1: {
                image: "https://us.shein.com/Men-Sequin-Shawl-Collar-Tuxedo-Suit-Jacket-p-869586-cat-1982.html?scici=navbar_3~~tab03navbar02menu01dir11~~2_1_11~~real_1982~~SPcCccMenCategory_default~~0~~0",
                item: "shirt",
                occasion: "formal",
                temp: "cold",
                color: "gold",
                neutral: true
            },
            shirt_2: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/11/14/15737274792d5b4446567091708d97f9c95327cd52_thumbnail_600x.webp",
                item: "shirt",
                occasion: "business",
                temp: "hot",
                color: "burgundy",
                neutral: true
            },
            shirt_3: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/11/18/157406159928106a64b0ed0fd9d15eed92351f70e7_thumbnail_600x.webp",
                item: "shirt",
                occasion: "casual",
                temp: "cold",
                color: "yellow",
                neutral: true
            },
            shirt_4: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/10/25/15719893554f4137319d0a963071e6509409c4d388_thumbnail_600x.webp",
                item: "shirt",
                occasion: "casual",
                temp: "hot",
                color: "burgundy",
                neutral: true
            },
            shirt_5: {
                image: "https://img.ltwebstatic.com/images2_pi/2019/08/07/156514884934442198_thumbnail_405x552.webp",
                item: "shirt",
                occasion: "business",
                temp: "cold",
                color: "red",
                neutral: true
            },
            shirt_6: {
                image: "https://img.ltwebstatic.com/images2_pi/2019/06/11/15602426472485560367_thumbnail_600x799.webp",
                item: "shirt",
                occasion: "casual",
                temp: "hot",
                color: "black",
                neutral: true
            },
            shirt_7: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/12/07/15757080560237079477ec02fb5d2a79b0f284a2ee_thumbnail_600x.webp",
                item: "shirt",
                occasion: "business",
                temp: "cold",
                color: "black",
                neutral: true
            },
            shirt_8: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/10/18/1571393387d4b1bf24561be2fbabc8ec3ff9a43c00_thumbnail_600x.webp",
                item: "shirt",
                occasion: "casual",
                temp: "cold",
                color: "white",
                neutral: true
            },
            shirt_9: {
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "shirt",
                occasion: "business",
                temp: "cold",
                color: "blue",
                neutral: false
            },
            shirt_10: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/12/10/15759653993967f59704aa5b35e8247a3f6fd3bbe1_thumbnail_405x552.webp",
                item: "shirt",
                occasion: "casual",
                temp: "cold",
                color: "purple",
                neutral: false
            },
            shirt_11: {
                image: "https://img.ltwebstatic.com/images2_pi/2018/06/05/1528183672179344041_thumbnail_600x799.webp",
                item: "shirt",
                occasion: "business",
                temp: "hot",
                color: "black",
                neutral: true
            },
            shirt_12: {
                image: "https://img.ltwebstatic.com/images3_pi/2019/11/01/1572584527b47ab417b259db773d6b78aa26465a69_thumbnail_600x.webp",
                item: "shirt",
                occasion: "business",
                temp: "hot",
                color: "black",
                neutral: true
            }
            
        },
        pantOShortsSelection: {
            pantOShorts_1 : {
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "formal",
                temp: "cold",
                getWet: true,
                color: "black",
                neutral: true,
                denim: false
            },
            pantOShorts_2:{
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "business",
                temp: "hot",
                getWet: false,
                color: "black",
                neutral: true,
                denim: false
            },
            pantOShorts_3:{
                image: "https://img.ltwebstatic.com/images2_pi/2018/08/16/15344122864071547532_thumbnail_600x799.webp",
                item: "bottom",
                occasion: "casual",
                temp: "hot",
                getWet: false,
                color: "blue",
                neutral: true,
                denim: true
            },
            pantOShorts_4:{
                image: "https://img.ltwebstatic.com/images2_pi/2019/09/06/15677562642354045488_thumbnail_405x552.webp",
                item: "bottom",
                occasion: "casual",
                temp: "cold",
                getWet: true,
                color: "white",
                neutral: true,
                denim: false
            },
            pantOShorts_5:{
                image: "https://img.ltwebstatic.com/images3_pi/2019/12/20/15768265140a369ddb1f90489f9a2889797a901389_thumbnail_600x.webp",
                item: "bottom",
                occasion: "business",
                temp: "cold",
                getWet: true,
                color: "beige",
                neutral: true,
                denim: false
            },
            pantOShorts_6:{
                image: "https://img.ltwebstatic.com/images3_pi/2019/12/30/157767067867e72dda4e26cfeeb18d4e841e8706f4_thumbnail_600x.webp",
                item: "bottom",
                occasion: "casual",
                temp: "hot",
                getWet: false,
                color: "black",
                neutral: true,
                denim: false
            },
            pantOShorts_7:{
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "business",
                temp: "cold",
                getWet: true,
                color: "black",
                neutral: true,
                denim: false
            },
            pantOShorts_8:{
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "casual",
                temp: "cold",
                getWet: true,
                color: "white",
                neutral: true,
                denim: false
            },
            pantOShorts_9:{
                image: "https://img.ltwebstatic.com/images3_pi/2019/12/20/15768265140a369ddb1f90489f9a2889797a901389_thumbnail_600x.webp",
                item: "bottom",
                occasion: "business",
                temp: "cold",
                getWet: true,
                color: "blue",
                neutral: true,
                denim: false
            },
            pantOShorts_10:{
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "casual",
                temp: "cold",
                getWet: true,
                color: "purple",
                neutral: true,
                denim: true
            },
            pantOShorts_11:{
                image: "https://sheinsz.ltwebstatic.com/she_dist/images/bg-grey-ba96515e9b.png",
                item: "bottom",
                occasion: "business",
                temp: "cold",
                getWet: true,
                color: "white",
                neutral: true,
                denim: false
            },
            pantOShorts_12:{
                image: "https://www.fjallraven.com/globalassets/fjallraven/shorts_1/f82462/detail_7323450320621_ss18_a_high_coast_shorts_21.jpg",
                item: "bottom",
                occasion: "business",
                temp: "hot",
                getWet: false,
                color: "white",
                neutral: true,
                denim: false
            },
            pantOShorts_13:{
                image: "https://www.fjallraven.com/globalassets/fjallraven/shorts_1/f82462/detail_7323450098995_ss18_a_high_coast_shorts_21.jpg",
                item: "bottom",
                occasion: "business",
                temp: "hot",
                getWet: false,
                color: "blue",
                neutral: true,
                denim: false
            }
        },
        shoeSelection: {
            shoe_1: {
                image: "https://belk.scene7.com/is/image/Belk?layer=0&src=3900006_25329719_A_719&$DWP_PRODUCT_PDP_LARGE$",
                occasion: "formal",
                getWet: false,
                color: "gold",
                neutral: false
            },
            shoe_2: {
                image: "https://media.aldoshoes.com/v3/product/daywen/600-001-031/daywen_red_600-001-031_main_rc_nt_1000x1270.jpg",
                occasion: "business",
                getWet: false,
                color: "burgundy",
                neutral: false
            },
            shoe_3: {
                image:  "https://c.static-nike.com/a/images/c_limit,w_592,f_auto/t_product_v1/2bd27653-9e2a-4cc9-9eab-1c01915c1804/zoom-freak-1-soul-glo-basketball-shoe-tmk8Hw.jpg",
                occasion: "casual",
                getWet: true,
                color: "yellow",
                neutral: false
            },
            shoe_4: {
                image: "https://c.static-nike.com/a/images/c_limit,w_592,f_auto/t_product_v1/c1710532-3afe-4db5-8126-199c3d9f2d79/air-force-1-07-lv8-mens-shoe-1qm6ML.jpg",
                occasion: "casual",
                getWet: true,
                color: "burgundy",
                neutral: false
            },
            shoe_5: {
                image: "https://media.aldoshoes.com/v3/product/daywen/600-001-031/daywen_red_600-001-031_main_rc_nt_1000x1270.jpg",
                occasion: "business",
                getWet: false,
                color: "red",
                neutral: false
            },
            shoe_6: {
                image: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCAwaDMwMHYzMDBIMHoiIGZpbGw9IiNFQ0VERUYiLz48L3N2Zz4=",
                occasion: "casual",
                getWet: true,
                color: "white",
                neutral: true

            },
            shoe_7: {
                image: "https://media.aldoshoes.com/v3/product/mccrery/001-001-046/mccrery_black_001-001-046_main_rc_nt_350x445.jpg",
                occasion: "business",
                getWet: false,
                color: "black",
                neutral: true
            },
            shoe_8: {
                image: "https://assets.adidas.com/images/w_385,h_385,f_auto,q_auto:sensitive,fl_lossy/91f51b14a34841c59fb9a82b0139dc49_9366/terrex-swift-r2-mid-gore-tex-hiking-shoes.jpg",
                occasion: "casual",
                getWet: true,
                color: "black",
                neutral: true
            },
            shoe_9: {
                image: "https://media.aldoshoes.com/v3/product/daywen/450-001-031/daywen_blue_450-001-031_main_rc_nt_500x635.jpg",
                occasion: "business",
                getWet: false,
                color: "blue",
                neutral: false
            },
            shoe_10: {
                image: "https://c.static-nike.com/a/images/c_limit,w_592,f_auto/t_product_v1/f9b8eeb0-2a77-41d3-ad6d-233491fbe365/lebron-17-monstars-basketball-shoe-CR7772.jpg",
                occasion: "casual",
                getWet: true,
                color: "purple",
                neutral: false

            },
            shoe_11: {
                image: "https://media.aldoshoes.com/v3/product/mirandi/001-003-038/mirandi_black_001-003-038_main_rc_nt_350x445.jpg",
                occasion: "business",
                getWet: false,
                color: "black",
                neutral: true
            },
            shoe_12: {
                image: "https://cdn.shopify.com/s/files/1/0238/2821/products/Mens-191-Royale-Gum-Blanco-RRWG-Product-101.jpg?v=1563991254",
                item: "shoe",
                occasion: "casual",
                getWet: false,
                color: "white",
                neutral: true
            },
            shoe_13: {
                image: "https://cdn.shopify.com/s/files/1/0468/9441/products/Taft_OnWhite-064-min_800x.jpg?v=1542949082",
                item: "shoe",
                occasion: "business",
                getWet: false,
                color: "gray",
                neutral: true
            },
            shoe_14: {
                image: "https://i0.wp.com/ae01.alicdn.com/kf/Hcf852273a0414c69b22751178871cfb03.jpg?crop=3,5,959,601&quality=3182",
                item: "shoe",
                occasion: "formal",
                getWet: true,
                color: "brown",
                neutral: false
            },
            shoe_15: {
                image: "https://tjp4all.com/wp-content/uploads/2019/04/7115Dm2UG1L._UL1500_.jpg",
                item: "shoe",
                occasion: "casual",
                getWet: true,
                color: "black",
                neutral: true
            },
            shoe_16: {
                image: "http://t0.gstatic.com/images?q=tbn%3AANd9GcTcSEtUZvUYUIwKEJKa-nyLmPetPRxlf38VzVNAhxKwbLTJYsatdakM7qOhWMTyJ5CFdhVFHSnP&usqp=CAc",
                item: "shoe",
                occasion: "business",
                getWet: false,
                color: "red",
                neutral: false
            }
        },
        // variables that will be used throughout project 
        finalShoe : {},
        finalShirt: {},
        finalBottoms: {},
        raining: null,
        chosenOccasion: null,
        temp:null,
        // time to set up our functions so we can put all of the pieces together 
        // function that picks a random shoe from an array that meet the requirements based on user choice of occasion and weather type 
        pickShoe: function (chosenOccasion, raining) {
            let objShoes = this.shoeSelection
            let availableShoes = [objShoes.shoe_1, objShoes.shoe_2, objShoes.shoe_3, objShoes.shoe_4, objShoes.shoe_5, objShoes.shoe_6, objShoes.shoe_7, objShoes.shoe_8, objShoes.shoe_9, objShoes.shoe_10, objShoes.shoe_11, objShoes.shoe_12,objShoes.shoe_13, objShoes.shoe_14, objShoes.shoe_15, objShoes.shoe_16];
            let boolValue = (raining =="true");
            let optionsShoes = []
                for(let i =0; i < availableShoes.length; i++){
                    if ( availableShoes[i].occasion === chosenOccasion && availableShoes[i].getWet === boolValue )  {
                        optionsShoes.push(availableShoes[i])
                        // console.log(optionsShoes)
                    } //else{console.log("not this shoe")}
            }
            finalShoe = optionsShoes[Math.floor(Math.random() * optionsShoes.length)]
             console.log(finalShoe)
             return finalShoe
        },
        // Create a FUNCTION that will narrow tops options.
        pickShirt : function (chosenOccasion, temp, finalShoe) {
            let objShirts = this.shirtSelection
            let optionsShirts = []
            let availableShirts = [objShirts.shirt_1, objShirts.shirt_2, objShirts.shirt_3, objShirts.shirt_4, objShirts.shirt_5, objShirts.shirt_6,objShirts.shirt_7, objShirts.shirt_8, objShirts.shirt_9, objShirts.shirt_10, objShirts.shirt_11, objShirts.shirt_12,]
            for (let i = 0; i < availableShirts.length; i++) {
                if ( availableShirts[i].occasion === chosenOccasion &&
                    availableShirts[i].temp === temp && 
                    ( availableShirts[i].color === finalShoe.color
                    || availableShirts[i].neutral === true )) {
                    // console.log(availableShirts[i])
                    optionsShirts.push(availableShirts[i])
                } 
            }
            finalShirt = optionsShirts[Math.floor(Math.random() * optionsShirts.length)]
            console.log(finalShirt)
            return finalShirt
        },
        // create function to pick pants or shorts for outfit 
        pickPantsOShorts : function (chosenOccasion, raining, temp, finalShirt) {
            let objBottoms = this.pantOShortsSelection
            // let rain = (raining =="true");
            let optionsBottoms = []
            let bottomsAvailable = [objBottoms.pantOShorts_1, objBottoms.pantOShorts_2, objBottoms.pantOShorts_3, objBottoms.pantOShorts_4, objBottoms.pantOShorts_5, objBottoms.pantOShorts_6, objBottoms.pantOShorts_7, objBottoms.pantOShorts_8, objBottoms.pantOShorts_9, objBottoms.pantOShorts_10, objBottoms.pantOShorts_11, objBottoms.pantOShorts_12, objBottoms.pantOShorts_13]
            for (let i = 0; i < bottomsAvailable.length; i++) {
                if ( bottomsAvailable[i].occasion === chosenOccasion
                    // and if the occasion is FORMAL ...
                    && chosenOccasion === "formal"
                    //  and the bottoms match the final top color ...
                    && ( bottomsAvailable[i].color === finalShirt.color
                    // or the bottoms are a neutral color ... 
                    || bottomsAvailable[i].neutral === true ) ) {
        
                    // move matching formal bottoms to the options array
                    // (we are not checking weather because all formal bottoms lengthhh should be long)
                    optionsBottoms.push(bottomsAvailable[i]);
                    // console.log(finalBottom)
        
                } 

                else if ( bottomsAvailable[i].occasion === chosenOccasion && 
                    bottomsAvailable[i].temp === temp && 
                    bottomsAvailable[i].getWet === raining &&
                    ( bottomsAvailable[i].color === finalShirt.color 
                    || bottomsAvailable[i].neutral === true )) {
                    // console.log(bottomsAvailable[i])
                    optionsBottoms.push(bottomsAvailable[i])
                }
                else if ( bottomsAvailable[i].occasion === chosenOccasion
                    && bottomsAvailable[i].temp === temp
                    // && bottomsAvailable[i].getWet === rain
                    && ( bottomsAvailable[i].color === 
                        finalShirt.color
                    || bottomsAvailable[i].neutral === true || 
                    bottomsAvailable[i].denim === true ) ) {
                        optionsBottoms.push(bottomsAvailable[i])
                    }        
            }
            finalBottoms = optionsBottoms[Math.floor(Math.random() * optionsBottoms.length)]
            return finalBottoms
        },
        // lets have a function that uses our API to check weather
        checkWeather: function () {
            navigator.geolocation.getCurrentPosition(function(p){
                // console.log(p)
                geoLat = p.coords.latitude;
                geoLon = p.coords.longitude;
                let lat = geoLat;
                let lon = geoLon;
                // Below is the updated weather api with geolocation api together 
                // to give us the current location dynamically
                const apiKey = "&appid=809719346cfc3a45574c551cf515962c"
                const queryURL = "https://api.openweathermap.org/data/2.5/weather?lat=" + lat + "&lon=" + lon + apiKey + "&units=imperial";
                // Below code is calling the weather and geolocation api to return an accurate weather tempature
                $.ajax({
                  url: queryURL,
                  method: "GET"
                }).then(function(response){
                    // console.log(response);          
                    let weather = parseInt(response.main.temp);
                    // console.log(temp);         
                    if (weather >= 75) {
                        fullOutfit.temp = "hot";
                    } else { fullOutfit.temp = "cold" }   
                    console.log(fullOutfit);   
                         
                $.ajax({
                url: queryURL,
                method: "GET"
                }).then(function(response){
                 if (response.weather[0].main === "Rain"
                 || response.weather[0].main === "Drizzle" 
                 || response.weather[0].main === "Thunderstorm" ) {
                    raining = true;
                 } 
                 else {
                    raining = false;
                 } console.log(raining)
                })      
                }).catch(function(e){
                    // (e) returns any erros in the code
                    console.log(e)
                })
             })
        }     
}

$(document).ready(function() {
    let obj = fullOutfit
    obj.checkWeather()
    $("#btn-casual").on("click", function(){
        obj.chosenOccasion = "casual";
        $("#shoepicc").remove()
        $("#shirtpicc").remove()
        $("#bottompicc").remove()
        console.log(obj)
        let shoe = obj.pickShoe(obj.chosenOccasion, obj.raining);
        let top = obj.pickShirt(obj.chosenOccasion, obj.temp, obj.finalShoe);
        let bottom = obj.pickPantsOShorts (obj.chosenOccasion, obj.raining, 
            obj.temp, obj.finalShirt);
    
        console.log ( shoe.image );
        console.log ( top.image );
        console.log ( bottom.image );    
    
        let shoeImage = $("<img src=" + shoe.image + " class='card-img-top' id='shoepicc' alt=" + shoe.image + ">");
        let topImage = $("<img src=" + top.image + " class='card-img-top' id='shirtpicc' alt=" + top.image + ">");
        let bottomImage = $("<img src=" + bottom.image + " class='card-img-top' id='bottompicc' alt=" + bottom.image + ">");
    
        $("#shoes").append(shoeImage)
        $("#tops").append(topImage)
        $("#bottoms").append(bottomImage)
    
    });
    
    $("#btn-business").on("click", function () {
        $("#shoepicc").remove()
        $("#shirtpicc").remove()
        $("#bottompicc").remove()
        obj.chosenOccasion = "business";
        let shoe = obj.pickShoe(obj.chosenOccasion, obj.raining);
        let top = obj.pickShirt(obj.chosenOccasion, obj.temp, obj.finalShoe);
        let bottom = obj.pickPantsOShorts(obj.chosenOccasion, obj.raining, obj.temp, obj.finalShirt);
    
        console.log( shoe.image);
        console.log( top.image);
        console.log( bottom.image);    
    
        let shoeImage = $("<img src=" + shoe.image + " class='card-img-top' id='shoepicc' alt=" + shoe.image + ">");
        let topImage = $("<img src=" + top.image + " class='card-img-top' id='shirtpicc' alt=" + top.image + ">");
        let bottomImage = $("<img src=" + bottom.image + " class='card-img-top' id='bottompicc' alt=" + bottom.image + ">");
    
        $("#shoes").append(shoeImage)
        $("#tops").append(topImage)
        $("#bottoms").append(bottomImage)
    
    });
    
    $("#btn-formal").on("click", function(){
        $("#shoepicc").remove()
        $("#shirtpicc").remove()
        $("#bottompicc").remove()
        obj.chosenOccasion = "formal";
        let shoe = obj.pickShoe(obj.chosenOccasion, obj.raining);
        let top = obj.pickShirt(obj.chosenOccasion, obj.temp, obj.finalShoe);
        let bottom = obj.pickPantsOShorts(obj.chosenOccasion, obj.raining, obj.temp, obj.finalShirt);
    
        console.log( shoe.image);
        console.log( top.image);
        console.log( bottom.image);    
    
        let shoeImage = $("<img src=" + shoe.image + " class='card-img-top' id='shoepicc' alt=" + shoe.image + ">");
        let topImage = $("<img src=" + top.image + " class='card-img-top' id='shirtpicc' alt=" + top.image + ">");
        let bottomImage = $("<img src=" + bottom.image + " class='card-img-top' id='bottompicc' alt=" + bottom.image + ">");
    
        $("#shoes").append(shoeImage)
        $("#tops").append(topImage)
        $("#bottoms").append(bottomImage)
    
    });
})


// fullOutfit.pickShoe("casual","true");

// fullOutfit.pickShirt("casual","hot", finalShoe);

// fullOutfit.pickPantsOShorts("casual", true, "hot", finalShirt )
// console.log(finalShoe)
// console.log(finalShirt)
// console.log(finalBottoms)